https://esystem.rudn.ru/pluginfile.php/2843509/mod_resource/content/4/012-boot.pdf
Основы администрирования операционных систем
Прохождение внешнего курса. Часть 1. Основы системного администрирования и Linux
Отчёт
Сергеев Даниил Олегович
Студент
Направление: Прикладная информатика
Российский университет дружбы народов
21 ноября 2025

# Цель работы

Разобрать, чем занимается системный администратор, какие задачи выполняет и почему его роль критически важна. Узнать, что такое «система», из чего состоит инфраструктура и как управлять ее элементами.

# Задание

- Модуль 1. Введение в системное администрирование
- Модуль 2. Базовые команды Linux
- Модуль 3. Файлы и каталоги

# Ход выполнения лабораторной работы

## Модуль 1. Введение в системное администрирование

### Тест по теме «Роль системного администратора Linux»

![Подтверждение прохождения теста «Роль системного администратора Linux»](image/1.PNG){#fig:001 width=90%}

![«Роль системного администратора Linux». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **возможность модификации программы под свои задачи без нарушения авторских прав**.

Философия свободного ПО - свобода для изучения, применения, изменения и распространения программного обеспечения, собственно открытый исходный код программ.

Все остальные варианты возможны, но они не отражают философию свободного ПО.

![«Роль системного администратора Linux». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Zabbix**.

- Zabbix - система мониторинга серверов. Он помогает следить за состоянием серверов, а также сигнализирует об ошибках до того, как они станут критическими.
- Exim - почтовый сервис.
- Puppet - помогает централизованно управлять конфигурацией множества серверов. Работает как инструмент для сокращения рутинных действий, а не как система мониторинга серверов.

![«Роль системного администратора Linux». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Мониторинг состояния серверов**.

Очевидно, что аппаратной частью серверов и управлением разработкой ПО занимаются инженеры и руководители отделов разработки соответственно. За продвижение IT-продуктов отвечает маркетолог. Все перечисленное не входит в обязанности системного администратора.

## Модуль 2. Базовые команды Linux

### Задания по теме «Вводный урок»

![«Вводный урок». Условия заданий](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Перейдем в учётную запись root пользователя и установим htop
```bash
su -
dnf install -y htop
```

![Установка htop](image/z1){#fig:001 width=90%}

#### Задание №2

Запустим htop
```bash
htop
```

Чтобы отсортировать процессы по памяти, нажмем на клавишу ```F6``` либо выберем её в нижней панели и в открывшемся окне укажем фильтр по использованию памяти ```PERCENT_MEM```.

![Фильтрация процессов htop](image/z2){#fig:001 width=90%}

#### Задание №3

Чтобы узнать, сколько памяти занято в файловых системах, введем команду
```bash
df -h
```

Опция ```-h``` выведет размер в удобном для человека виде.

![Размер файловых систем на диске](image/z3){#fig:001 width=90%}

Отсюда видим, что свободно 22 Гб памяти, или же 39% от всей вместимости файловой системы /dev/mapper/rl_vbox-root.

#### Задание №4

Выведем суммарный размер каталогов и их подкаталогов по пути ```/var/*```
```bash
# -h удобный для чтения формат размера
# -s вывод суммы размеров подкаталогов
du -hs /var/*
```

Каталоги, занимающие больше всего места: /var/lib (280 мб), /var/cache (269 мб), /var/log (78 мб).

![Размер подкаталогов /var](image/z4){#fig:001 width=90%}

### Тест по теме «Вводный урок»

![Подтверждение прохождения теста «Вводный урок»](image/1.PNG){#fig:001 width=90%}

![«Вводный урок». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Bash**.

Bash является наиболее известной оболочкой наряду с Zsh, Tcsh и Ksh. Fish менее известен, так как не поддерживает стандарт POSIX.

Bush является опечаткой в слове Bash.

![«Вводный урок». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **man**.

Самая мощная команда для получения справки. Она отображает подробное руководство: описание, синтаксис, опции, примеры использования и ссылки. ```help``` предоставляет в основном описание встроенных команд текущей оболочки и системные переменные.

```apropos``` позволяет искать в файлах с руководствами (man-страницах) указанные строки.

![«Вводный урок». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Для выполнения административной задачи**.

Если система специально настроена на доступ к интернету только для супер пользователя, то повышенные привилегии не потребуются для обычного пользователя. Загрузка графического интерфеса также не требует повышенных привелегий.

### Задания по теме «Роль командной строки в серверной среде»

![«Роль командной строки в серверной среде». Условия заданий](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Воспользуемся утилитой для просмотра системного журнала
```bash
# -k сообщения, связанные с ядром
journalctl -k
```

![Журнал с сообщениями ядра](image/z5){#fig:001 width=90%}

#### Задание №2

Посмотреть статус конкретной службы можно с помощью systemctl status:
```bash
systemctl status sshd
```

![Статус службы SSH](image/z6){#fig:001 width=90%}

#### Задание №3

Выведем список всех юнитов и отфильтруем, используя встроенные опции команды:
```bash
# list-units выводит состояние всех системных юнитов
# --type=service указывает тип выводимых системных юнитов, в данном случае - сервис
# --state=active указывает статус выводимых системных юнитов, в данном случае - активных
systemctl list-units --type=service --state=active
```

![Список всех активных служб](image/z7){#fig:001 width=90%}

### Тест по теме «Роль командной строки в серверной среде»

![Подтверждение прохождения теста «Роль командной строки в серверной среде»](image/1.PNG){#fig:001 width=90%}

![«Роль командной строки в серверной среде». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Экономия ресурсов и повышение стабильности**.

Возможность запуска более одного окна существует и без графического интерфейса, например с помощью утилиты tmux. Взаимодействие с командной строкой не имеет ощутимых отличий без графического интерфейса.

![«Роль командной строки в серверной среде». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Дает безопасный канал для удаленной работы**.

SSH - это протокол прикладного уровня для безопасного обмена информацией между двумя устройствами. Он не отвечает за быструю передачу видеопотоков и не позволяет одновременно запускать графические программы.

![«Роль командной строки в серверной среде». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Терминал - это место ввода/вывода команд, оболочка - программа, которая их интерпретирует**.

Терминал является средством взаимодействие с компьютером посредством ввода текстовых команд.

Оболочка предназначена для неинтерактивной обработки команд.

### Задания по теме «Файловая структура и ключевые каталоги». Часть 1

![«Файловая структура и ключевые каталоги». Условия заданий (1)](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Используем поиск по всем директориям в каталоге /etc, которые содержат в себе слово ssh
```bash
ls /etc/*ssh*
```

Опытным путем узнаем, что конфигурация сервиса ssh записана в файле ```ssh_config```.

![Поиск конфигурационного файла SSH](image/z8){#fig:001 width=90%}

#### Задание №2

Откроем найденный файл в редакторе vi:
```bash
vi /etc/ssh/ssh_config
```

![Файл конфигурации SSH](image/z9){#fig:001 width=90%}

#### Задание №3

Файлы логов находятся в каталоге /var/log. Посмотрим, какие журналы в нем находятся:
```bash
ls /var/log
```

![Журналы каталога /var/log](image/z10){#fig:001 width=90%}

Из всех перечисленных журналов стоит отметить 

- /var/log/messages - содержит глобальные системные сообщения;
- /var/log/secure - хранит сообщения, связанные с безопасностью;
- /var/log/cron - регистрирует сообщения о выполнении заданий crontab;

### Задания по теме «Файловая структура и ключевые каталоги». Часть 2

![«Файловая структура и ключевые каталоги». Условия заданий (2)](image/1.PNG){#fig:001 width=90%}

#### Задание №4

Посмотрим последние двадцать записей
```bash
# -n 20 последние 20 строк
journalctl -n 20
```

![Последние 20 записей journalctl](image/z11){#fig:001 width=90%}

#### Задание №5

Сторонние приложения, не используемые пакетным менеджером, находятся в каталоге /opt. Посмотрим его содержимое:
```bash
ls -l /opt
```

![Сторонние пакеты каталога /opt](image/z12){#fig:001 width=90%}

В системе используются два сторонних приложения: quarto и VBoxGuestAdditions

#### Задание №6

Необходимо перейти в каталог конфигурации nginx, сделать резервную копию файла с основными настройками и отредактировать его:
```bash
cd /etc/nginx
ls -l
sudo cp nginx.conf nginx.conf.backup
sudo vi nginx.conf
```

Чтобы настройки вступили в силу, перезапускаем сервис
```bash
sudo systemctl reload nginx
```

![Имитация процесса настройки nginx](image/z13){#fig:001 width=90%}

### Тест по теме «Файловая структура и ключевые каталоги»

![Подтверждение прохождения теста «Файловая структура и ключевые каталоги»](image/1.PNG){#fig:001 width=90%}

![«Файловая структура и ключевые каталоги». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **/etc**.

- /usr - каталог для содержания пользовательских приложений и данных, не необходимых для загрузки системы;
- /var - каталог для хранения изменяемых файлов (например, логов);
- /etc - каталог для хранения конфигурационных файлов служб;

![«Файловая структура и ключевые каталоги». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **/var/log**.

- /home/log - домашний каталог log (либо для пользователя log, либо для других пользователей)
- /etc/logs - обычно такого каталога не существует, так как логи хранятся в /var.

![«Файловая структура и ключевые каталоги». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Дополонительное ПО, которое не входит в стандартные репозитории**.

- Домашние каталоги пользователей хранятся в каталоге /home
- Файлы, связанные с конфигурацией ядра Linux хранятся в /etc или /boot

### Задания по теме «Принцип „Всё есть файл“»

![«Принцип „Всё есть файл“». Условия заданий](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Выполним команду
```bash
cat /proc/cpuinfo | head
```

![Просмотр информации о процессоре](image/z14){#fig:001 width=90%}

- processor  : Номер процессора;
- vendor_id  : Идентификатор производителя;
- cpu family : Семейство процессоров;
- model      : Модель;
- model name : Название модели;
- stepping   : Степпинг процессора (номер версии ядра);
- microcode  : Набор инструкций процессора;
- cpu MHz    : Частота процессора;
- cache size : Размер КЭШа;
- physical id: Физический идентификатор процессора;

#### Задание №2

Откроем файл meminfo, в котором хранятся данные об использовании памяти
```bash
cat /proc/meminfo
```

![Просмотр информации о процессоре](image/z15){#fig:001 width=90%}

Обратим внимание на поля 

- MemTotal - Всего памяти, примерно 16 Гб;
- MemFree  - Свободно памяти, примерно 13 Гб;
- Buffers  - Память, используемая буферами ядра, примерно 2,8 мб;

#### Задание №3

Просмотрим список файлов
```bash
ls -l /dev
```

![Просмотр каталога /dev](image/z16){#fig:001 width=90%}

- /dev/null - корзина для данных, что удобно для отбрасывания ненужного вывода;
- /dev/random - генератор псевдослучайных чисел;

### Тест по теме «Принцип „Всё есть файл“»

![Подтверждение прохождения теста «Принцип „Всё есть файл“»](image/1.PNG){#fig:001 width=90%}

![«Принцип „Всё есть файл“». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Для представления устройств в виде файлов**.

В директории /dev расположены псевдофайлы, которые представляют собой интерфейс к аппаратному и виртуальному оборудованию. Драйвера системы вероятно хранятся в /lib/modules.

![«Принцип „Всё есть файл“». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Состояние оперативной памяти и процессоров «на лету»**.

- Конфигурации системных служб находятся в каталоге /etc
- Бинарные файлы ядра находятся в каталогах /bin и /sbin

![«Принцип „Всё есть файл“». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **cat**.

Команда cat олицетворяет принцип работы с файлами, позволяя отфильтровать вывод содержимого файла через конвейер по своему усмотрению. 

### Задания по теме «Работа с базовыми командами в реальных условиях»

![«Работа с базовыми командами в реальных условиях». Условия заданий](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Текущей каталог доступен командой ```pwd```.

![Текущий каталог](image/z17){#fig:001 width=90%}

#### Задание №2

Узнаем список всех файлов в домашнем каталоге, включая скрытые:
```bash
cd ~
# -a списох всех файлов, включая скрытые
ls -a
```

![Скрытые файлы домашнего каталога](image/z18){#fig:001 width=90%}

#### Задание №3

Так как syslog отсутствует на Rocky Linux, посмотрим в лог ```messages```. Вывод строк передадим сначала в grep, потом в tail (по умолчанию выводит последние 10 строк. Опцию -n использовать не будем).
```bash
cat /var/log/messages | grep systemd | tail
```

![Последние 10 записей messages, связаных с сервисом systemd](image/z19){#fig:001 width=90%}

### Тест по теме «Работа с базовыми командами в реальных условиях»

![Подтверждение прохождения теста «Работа с базовыми командами в реальных условиях»](image/1.PNG){#fig:001 width=90%}

![«Работа с базовыми командами в реальных условиях». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **pwd**.

- ```ls``` - выводит список файлов и каталогов в текущей директории;
- ```cd``` - позволяет изменить каталог на другой по указанному пути;

![«Работа с базовыми командами в реальных условиях». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **ls -a**.

- ls -l - выводит дополнительную информацию о файлах (владелец, группа, права, размер и так далее);
- ls --hidden - данной опции не существует;

![«Работа с базовыми командами в реальных условиях». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **cd apache2**.

- ```cd ~apache2``` - перейдет в каталог ```/etc/~apache2```. Отдельный символ ```~``` обозначает домашнюю директорию;
- ```cd /etc/apache2``` - альтернативный способ с использованием полного пути, но лучше использовать относительный путь;

![«Работа с базовыми командами в реальных условиях». Вопрос №4](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Домашнюю директорию текущего пользователя**.

Как было сказано ранее, отдельный символ ```~``` обозначает домашнюю директорию. Корневой каталог начинается с ```/``` (/etc, /home, /usr), а для каталога с логами нет конкретного символа, необходимо писать полный или относительный путь.

![«Работа с базовыми командами в реальных условиях». Вопрос №5](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Для фильтрации строк с упоминанием ssh из списка файлов**.

Команда ```ls -l``` выведет список файлов в текущей директории с дополнительной информацией. Вывод перехватится конвейером, который передаст его в команду ```grep```. В качетсве шаблона в фильтр передается слово ```ssh```, что выведет все строки ```ls -l```, в которых есть упоминание ```ssh```.

## Модуль 3. Файлы и каталоги

### Задания по теме «Базовые команды для управления файлами и каталогами»

![«Базовые команды для управления файлами и каталогами». Условия заданий](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Создадим каталоги и сделаем проверку
```bash
mkdir -p ~/project/{logs,data,backup}
ls
```

![Создание каталога и его подкаталогов одной командой](image/z20){#fig:001 width=90%}

#### Задание №2

Создадим файлы и проверим их наличие.
```bash
touch ~/project/logs/error.log ~/project/data/info.txt
ls ~/project/*
```

![Проверка наличия error.log и info.txt](image/z21){#fig:001 width=90%}

#### Задание №3

Скопируем файл в каталог logs (опечатка), проверим наличие файла.
```bash
cp ~/project/data/info.txt ~/project/logs/
```

![Копирование файла из одного каталога в другой](image/z22){#fig:001 width=90%}

#### Задание №4

Переместим файл error.log из каталога project/logs/ в папку project/data/.
```bash
mv ~/project/logs/error.log ~/project/data/
```

![Перемещение файлов](image/z23){#fig:001 width=90%}

#### Задание №5

Удалим все созданные файлы
```bash
rm -r ~/project
```

![Удаление файлов и самого каталога project](image/z24){#fig:001 width=90%}

### Задания по теме «Работа с архивами и передача данных между серверами»

![«Работа с архивами и передача данных между серверами». Условия заданий](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Создаем временный каталог для выполнения задания и файлы для архивации
```bash
mkdir course
cd course
touch file{1..3}.txt
```

Архивируем все файлы в каталоге course
```bash
# -c создание архива
# -z способ архивации gzip
# -v подробный вывод выполнения команды
# -f указание названия архива
tar -czvf archive_test.tar.gz ./*
```

![Архивация файлов file](image/z25){#fig:001 width=90%}

#### Задание №2

Создадим каталог extracted и извлечем туда файла архива
```bash
mkdir extracted  
tar -xzvf archive_test.tar.gz -C extracted/
ls extracted/
```

![Извлечение файлов из архива](image/z26){#fig:001 width=90%}

#### Задание №3

В связи с отсутствием доступа к серверу ```selectel```, запустим локальный сервер apache через службу httpd.
```bash
systemctl start httpd
systemctl status httpd
```

![Запуск и проверка службы httpd](image/z27){#fig:001 width=90%}

Теперь попробуем скопировать архив "на сервер" и обратно
```bash
scp archive_test.tar.gz root@localhost:/backups
rm archive_test.tar.gz
ls
scp root@localhost:/backups/archive_test.tar.gz
ls
```

![Практика команды scp](image/z28){#fig:001 width=90%}

### Тест по теме «Работа с архивами и передача данных между серверами»

![Подтверждение прохождения теста «Работа с архивами и передача данных между серверами»](image/1.PNG){#fig:001 width=90%}

![«Работа с архивами и передача данных между серверами». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **tar -czf**.

- ```scp -r``` - рекурсивная (-r) передача файлов между серверами;
- ```gzip``` - сжатие одного файла;

![«Работа с архивами и передача данных между серверами». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **tar -xzf**.

- ```scp -xzf``` - команда ```scp``` не отвечает за сжатие и не имеет данных опций либо они выполняют другие действия;
- ```gzip -d``` - распаковать один файл;

![«Работа с архивами и передача данных между серверами». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **scp -r folder user\@server:/backup**.

- ```tar -czf folder /backup``` - архивирование каталога /backup в архив folder;
- ```scp archive.tar.gz /backup``` - копирование архива, а не папки с файлами;

### Задания по теме «Основы автоматизации с помощью Bash-скриптов»

![«Основы автоматизации с помощью Bash-скриптов». Условия заданий](image/1.PNG){#fig:001 width=90%}

#### Задание №1

Напишем скрпт, который будет архивировать все логи в директории /var/log, согласно условию задания
```bash
#!/bin/bash

LOG_DIR=/var/log
ARCHIVE_DIR=/var/archive

DATE=$(date +%Y%m%d)
ARCHIVE_NAME="backup_${DATE}.log"

if [ -e "$ARCHIVE_DIR/$ARCHIVE_NAME" ]; then
    echo "Такой архив уже существует"
    exit 0
fi

tar -czf $ARCHIVE_DIR/$ARCHIVE_NAME $LOG_DIR
```

#### Задание №2

Теперь сделаем наш скрипт исполняемым и запустим его.
```bash
chmod +x bin/clean_logs.sh
./clean_logs.sh
```

![Редактирование прав доступа clean_logs.sh](image/z29){#fig:001 width=90%}

![Выполнение файла clean_logs.sh](image/z30){#fig:001 width=90%}

#### Задание №3

Автоматизируем запуск скрипта с помощью cron.
```bash
crontab -e
```

Зададим срок выполнения: 3:30 утра каждого первого дня месяца
```bash
30 3 1 * * /home/dosergeev/course/bin/clean_logs.sh
```bash

![Настройка crontab -e](image/z31){#fig:001 width=90%}

### Тест по теме «Основы автоматизации с помощью Bash-скриптов»

![Подтверждение прохождения теста «Основы автоматизации с помощью Bash-скриптов»](image/1.PNG){#fig:001 width=90%}

![«Основы автоматизации с помощью Bash-скриптов». Вопрос №1](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **chmod +x**.

- ```chmod +r``` - добавить право на чтение файла;
- ```chmod +w``` - добавить право на запись в файл;

![«Основы автоматизации с помощью Bash-скриптов». Вопрос №2](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **#**.

Чтобы добавить комментарий, достаточно поставить знак решетки перед нужной строкой. Однако если в начале прописать заголовок ```#!/bin/bash```, то это укажет скрипту, что нужно использовать Bash.

![«Основы автоматизации с помощью Bash-скриптов». Вопрос №3](image/1.PNG){#fig:001 width=90%}

Выбранный ответ: **Находит и удаляет файлы старше 7 дней**.

Команда ```find``` ищет в каталоге /var/log файлы (-f), которые имеют срок более 7 дней (-mtime +7). Для каждого из этих файлов выполняется (-exec) команда ```rm -f {}```, где вместо фигурных скобок подставляется путь к найденному файлу.

# Вывод

В результате прохождения первой части внешнего курса «Системный администратор Linux с нуля» я разобрал, чем занимается системный администратор, узнал о базовых командах, необходимых для управления системой, и выполнил практические занятия по управлению файлами и каталогами.